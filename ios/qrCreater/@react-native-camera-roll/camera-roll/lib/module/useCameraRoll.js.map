{"version":3,"names":["useRef","useState","CameraRoll","initialState","edges","page_info","end_cursor","has_next_page","start_cursor","defaultConfig","first","groupTypes","useCameraRoll","photos","setPhotos","getPhotos","config","result","error","__DEV__","console","log","current","save"],"sources":["useCameraRoll.ts"],"sourcesContent":["import {useRef, useState} from 'react';\nimport type {\n  GetPhotosParams,\n  PhotoIdentifiersPage,\n  SaveToCameraRollOptions,\n} from './CameraRoll';\nimport {CameraRoll} from './CameraRoll';\n\nconst initialState: PhotoIdentifiersPage = {\n  edges: [],\n  page_info: {\n    end_cursor: '',\n    has_next_page: false,\n    start_cursor: '',\n  },\n};\n\nconst defaultConfig: GetPhotosParams = {\n  first: 20,\n  groupTypes: 'All',\n};\n\ntype UseCameraRollResult = [\n  PhotoIdentifiersPage,\n  (config?: GetPhotosParams) => Promise<void>,\n  (tag: string, options?: SaveToCameraRollOptions) => Promise<void>,\n];\n\nexport function useCameraRoll(): UseCameraRollResult {\n  const [photos, setPhotos] = useState<PhotoIdentifiersPage>(initialState);\n\n  const getPhotos = useRef(\n    async (config: GetPhotosParams = defaultConfig): Promise<void> => {\n      try {\n        const result = await CameraRoll.getPhotos(config);\n        setPhotos(result);\n      } catch (error) {\n        if (__DEV__)\n          console.log('[useCameraRoll] Error getting photos: ', error);\n      }\n    },\n  ).current;\n\n  const save = useRef(\n    async (...args: Parameters<typeof CameraRoll.save>): Promise<void> => {\n      try {\n        await CameraRoll.save(...args);\n      } catch (error) {\n        if (__DEV__)\n          console.log('[useCameraRoll] Error saving to camera roll: ', error);\n      }\n    },\n  ).current;\n\n  return [photos, getPhotos, save];\n}\n"],"mappings":"AAAA,SAAQA,MAAR,EAAgBC,QAAhB,QAA+B,OAA/B;AAMA,SAAQC,UAAR,QAAyB,cAAzB;AAEA,MAAMC,YAAkC,GAAG;EACzCC,KAAK,EAAE,EADkC;EAEzCC,SAAS,EAAE;IACTC,UAAU,EAAE,EADH;IAETC,aAAa,EAAE,KAFN;IAGTC,YAAY,EAAE;EAHL;AAF8B,CAA3C;AASA,MAAMC,aAA8B,GAAG;EACrCC,KAAK,EAAE,EAD8B;EAErCC,UAAU,EAAE;AAFyB,CAAvC;AAWA,OAAO,SAASC,aAAT,GAA8C;EACnD,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAuBE,YAAvB,CAApC;EAEA,MAAMY,SAAS,GAAGf,MAAM,CACtB,kBAAkE;IAAA,IAA3DgB,MAA2D,uEAAjCP,aAAiC;;IAChE,IAAI;MACF,MAAMQ,MAAM,GAAG,MAAMf,UAAU,CAACa,SAAX,CAAqBC,MAArB,CAArB;MACAF,SAAS,CAACG,MAAD,CAAT;IACD,CAHD,CAGE,OAAOC,KAAP,EAAc;MACd,IAAIC,OAAJ,EACEC,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDH,KAAtD;IACH;EACF,CATqB,CAAN,CAUhBI,OAVF;EAYA,MAAMC,IAAI,GAAGvB,MAAM,CACjB,kBAAsE;IACpE,IAAI;MACF,MAAME,UAAU,CAACqB,IAAX,CAAgB,YAAhB,CAAN;IACD,CAFD,CAEE,OAAOL,KAAP,EAAc;MACd,IAAIC,OAAJ,EACEC,OAAO,CAACC,GAAR,CAAY,+CAAZ,EAA6DH,KAA7D;IACH;EACF,CARgB,CAAN,CASXI,OATF;EAWA,OAAO,CAACT,MAAD,EAASE,SAAT,EAAoBQ,IAApB,CAAP;AACD"}